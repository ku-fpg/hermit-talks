\section{Demo: fib}

\begin{frame}
\frametitle{Demonstration: Unrolling Fibonacci}

As a first demonstration, let's transform the |fib| function by unrolling the recursive calls once.

{%format n = "\identifier{n}"
%format 1 = "\constructor{1}"
%format 2 = "\constructor{2}"
\small
\begin{code}
fib :: Int -> Int
fib n = if  n < 2
            then 1
            else fib (n-1) + fib (n-2)
\end{code}
\uncover<2->{
\begin{code}
fib :: Int -> Int
fib n = if  n < 2  then 1
                   else  (if  (n-1) < 2  then 1
                                         else fib (n-1-1) + fib (n-1-2)
                         )
                         +
                         (if  (n-2) < 2  then 1
                                         else fib (n-2-1) + fib (n-2-2)
                         )
\end{code}
}
}

\end{frame}
